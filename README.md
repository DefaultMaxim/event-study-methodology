___Event study project___
---
Проект основан на получении котировок акций, подсчета параметров с целью зафиксировать фактор того, что событие повлияло на цену актива.
---

1. Проект берет данные с Tinkoff API, для него нужен ключ доступа. 
3. Ключ(токен) хранится в каталоге data import/token.txt, вставьте свой ключ чтобы скачать другие котировки акий, либо берите котировки с других источников.
4. Набор акций для скачивания хранится в каталоге data import/share_figi.txt, представляет из себя список Figi composite указанных через запятую.
---
Использованные библиотеки
---
1. NumPy
2. SciPy
3. Statsmodels
4. Pandas (для визуализации)
5. Matplotlib (для визуализации)
---
Описание работы single event study
---
На примере линейной модели вычисляем abnormal returns, считаем несколько статистик:
1. t-test: $t = \frac{AR_i}{\sigma_i}$, где $\sigma_i = \sum_t \frac{(y - \hat{y})^2}{DFE}$, где $DFE$ - количество степеней свободы ошибки.
2. Criterion t-test: $t = \frac{AR_i}{S_{AR_i}}$, где $S_{AR_i} = \sqrt{\frac{1}{M_i - K} \sum_t AR_{i, t}^2}$, $t \in [T_0, T_1]$

Производится подсчет $p-value$, и делается вывод о значимости гипотезы.

---
Описание работы multiple event study
---
Вычисляем abnormal returns, далее считаем avg. abnormal returns: $AAR = \frac{1}{N} \sum_i AR_{i, t}$, $N$ - количество акций в портфеле.  

Считаем статистики, возьмем например Skewness-corrected-test:  

https://rss.onlinelibrary.wiley.com/doi/abs/10.1111/j.2517-6161.1992.tb01876.x  

Делаем вывод о значимости.

---
Пример работы multiple event study skewness test when smth happend
---
|time | aar | t_stat | p_value | significant|
|:----|:----|:-------|:--------|:-----------|
|2022-02-16 07:00:00+00:00 | 0.013847692048308161 | 2.5983122032593533 | 0.02207656587449547 | True
|2022-02-17 07:00:00+00:00 |0.0006845183685981188 |0.16727899577316382 |0.8697246083331007 |False
|2022-02-18 07:00:00+00:00 |-0.008263940262810708 |-1.3857592968998729 |0.18913381858445089 |False
|2022-02-21 07:00:00+00:00 |-0.0247026935057538 |-1.9712619955047677 |0.07036249521799309 | False
|2022-02-22 07:00:00+00:00 |-0.005160288411217801 |-0.4416981075968318 |0.665965770462948 | False
|2022-02-24 07:00:00+00:00 |-0.08498380590015271 |-3.532520827621577 |0.0036775093202494613 | True
|2022-02-25 07:00:00+00:00 |0.014183972346708467 |0.7113572124290345 |0.48943123202274963 |False
|2022-03-24 07:00:00+00:00 |-0.04231522559299291 |-1.7485650367917176 |0.10392364009027788 |False
|2022-03-25 07:00:00+00:00 |-0.025745017104265498 |-1.4810730928932025 |0.16241388443247473 |False
|2022-03-28 07:00:00+00:00 |-0.022407930645239105 |-1.1399978456286595 |0.27485609133186717 |False

---
Пример работы single event study when nothing happend
---
__SBERP__
| time | AR |	t_stat |	p_value |	significant|	idx|
|:-----|:---|:-------|:---------|:-----------|:----|		
|2023-01-15 07:00:00+00:00	|-0.007847	|-0.665151	|0.507241	|False	|-5
|2023-01-16 07:00:00+00:00	|-0.025761	|-2.183642	|0.030951	|True	|-4
|2023-01-17 07:00:00+00:00	|-0.023510	|-1.992819	|0.048570	|True	|-3
|2023-01-18 07:00:00+00:00	|-0.006451	|-0.546783	|0.585551	|False	|-2
|2023-01-19 07:00:00+00:00	|-0.021893	|-1.855753	|0.065963	|False	|-1
|2023-01-20 07:00:00+00:00	|-0.006049	|-0.512777	|0.609058	|False	|0
|2023-01-21 07:00:00+00:00	|-0.004339	|-0.367831	|0.713653	|False	|1
|2023-01-22 07:00:00+00:00	|-0.018450	|-1.563936	|0.120488	|False	|2
|2023-01-23 07:00:00+00:00	|-0.013860	|-1.174855	|0.242398	|False	|3
|2023-01-24 07:00:00+00:00	|-0.013510	|-1.145168	|0.254438	|False	|4

__Вы можете видеть, что во время падения цены рынка, цена сбера растет. Это объясняет два True на индексах -4 и -3__, 

__а также почти True (p-value = 0.06) на индексе -1__

__Market Price__
![market](https://github.com/DefaultMaxim/event-study-methodology/blob/master/examples/example%20market.png?raw=true)

__SBERP__
![sberp](https://github.com/DefaultMaxim/event-study-methodology/blob/master/examples/example%20sber.png?raw=true)


